$(function(){"use strict";var e=$("#main"),t={debug:!1,trigger_container:$(document),anchors:"a[href]",scroll:!1,blacklist:'a.logout, [download], .no-hover, [href^="tel:"], [href^="mailto:"]',cacheLength:0,prefetch:!0,onBefore:function(e,t){Website._transition._init(!1)},onReady:{render:function(e,t,n,i,o){Website._transition.end_transition_queue(t,i,o)}}};Website._smoothState=e.smoothState(t).data("smoothState"),Website._init(!0)});var Website={_register:{breakpoints:{},callbacks:[],controllers:[],data:{},queries:[],reveal_queue:[],transition:{container:$("#main"),state:!1,timer:{duration:0,interval:!1,timer:!1},type:"standard"},width:0},_init:function(e){this._base(e),this._controllers(),e&&this._events()},_base:function(e){e?($.each(["mobile","tablet","mobile_tablet","laptop","desktop","laptop_desktop","laptop_desktop_notouch"],function(e,t){$("body").append('<code class="device" id="_'+t+'"></code>'),Website._register.breakpoints[t]=!1}),SmoothScroll._init(!0)):SmoothScroll.reset(),Website._resize._init(!0),Website._scroll._init(!0)},_controllers:function(){Website._register.controllers.length=0,$("[controller]").each(function(){var e=$(this).attr("controller").replace(/-/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}).replace(/ /g,"");"object"==typeof window[e]&&-1==$.inArray(e,Website._register.controllers)&&(Website._register.controllers.push(e),window[e]._init())}),Website._resize._init(!0),Website._scroll._init(!0)},_events:function(e){$(document).bind("mousewheel touchstart",function(e){$("html, body").stop()}),$(window).on("resize",function(){Website._resize._init(!1)}),$(window).on("scroll",function(){Website._scroll._init(!1)})},_events_unload:function(){$.each(Website._register.controllers,function(e,t){window[t]._events_unload()})},_functions:{style:function(e,t,n){for(var i=0;i<document.styleSheets[1].cssRules.length;i++){var o=document.styleSheets[1].cssRules[i];if(o.selectorText===e)return void(o.style[t]=n)}document.styleSheets[1].insertRule(e+" { "+t+": "+n+"; }",0)}},_interaction:{},_resize:{_init:function(e){if($("body").addClass("ready"),$.each(Website._register.controllers,function(e,t){"object"==typeof window[t]._resize&&"function"==typeof window[t]._resize._init&&window[t]._resize._init()}),$.each(["mobile","tablet","laptop","desktop","laptop_desktop","laptop_desktop_notouch"],function(e,t){Website._register.breakpoints[t]=!!$("#_"+t+":visible").length}),document.documentElement.clientWidth>=1025||Math.max(document.documentElement.clientWidth,320)!=Website._register.width){Website._register.width=Math.max(document.documentElement.clientWidth,320);let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh_fixed",`${e}px`)}let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`),clientWidth=Math.max(document.getElementById("smoothscroll").clientWidth,320);let n=.01*clientWidth;document.documentElement.style.setProperty("--vw",`${n}px`);let i=window.innerWidth-clientWidth;document.documentElement.style.setProperty("--sw",`${i}px`)}},_scroll:{_scrollTop:0,_scroll:!1,_direction:!0,_init:function(e){$.each(Website._register.controllers,function(e,t){"object"==typeof window[t]._scroll&&"function"==typeof window[t]._scroll._init&&window[t]._scroll._init()})}},_transition:{_init:function(e){Website._events_unload(),$("body").removeClass("ready"),$("header").removeClass()},begin_transition:function(){Website._register.transition.timer.duration=0,Website._register.transition.timer.interval=setInterval(function(){Website._register.transition.timer.duration+=1},1)},start:function(){},end_transition_queue:function(e,t,n){setTimeout(function(){Website._transition.end_transition(e,t,n),clearInterval(Website._register.transition.timer.interval)},Math.max(1100-Website._register.transition.timer.duration,0))},end_transition:function(e,t,n){SmoothScroll.unload(),Website._register.transition.container.html(e),Website._init(!1),Global._interaction.nav(!0),$("body").removeClass("intro grey"),$("body").addClass("ready")}}},Global={_register:{nav:!1,scroll:0},_init:function(){this._base(),this._events()},_base:function(){$("#hero:not(.homepage) video:visible").length&&$("#hero:not(.homepage) video:visible").prop("playing",!0).get()[0].play()},_events:function(){$(document).on("click","header.nav section#menu",function(){Global._interaction.nav()}),$(document).on("click","header.nav section#menu div.container",function(e){e.stopPropagation()}),$(document).on("keydown",function(e){Global._interaction.nav_close(e)}),$(document).on("click",'header button[action="menu.toggle"]',function(){Global._interaction.nav()})},_events_unload:function(){$(document).off("click","header.nav section#menu nav"),$(document).off("click","header.nav section#menu"),$(document).off("click",'header button[action="menu.toggle"]')},_interaction:{nav:function(e){Global._register.nav=!e&&!Global._register.nav,SmoothScroll[Global._register.nav?"lock":"unlock"](),clearTimeout($("header").prop("animate")),$("header").toggleClass("nav",Global._register.nav).toggleClass("animate",!e).prop("animate",setTimeout(function(){$("header").removeClass("animate")},1400)).find('button[action="menu.toggle"]').toggleClass("active",Global._register.nav).text(Global._register.nav?"Close":"Menu")},nav_close(e){$("header").hasClass("nav")&&27==e.which&&this.nav()}},_resize:{_init:function(e){this.hero()},hero:function(){$("#hero video:visible").length&&!$("#hero video:visible").prop("playing")&&$("#hero video:visible").prop("playing",!0).get()[0].play(),$("#hero video:not(:visible)").each(function(){$(this).removeProp("playing").get()[0].pause()})}}},Homepage={_init:function(){this._base(),this._events()},_base:function(){$("body").hasClass("splash")&&(SmoothScroll.lock(),SmoothScroll._scroll(!0,!1,0,!1),$block=$("#hero").next("section.block"),parseInt($block.find("div.container").css("padding-top")),$block.find("h2").height(),parseInt($block.find("h2").css("margin-bottom")),$block.find("div.para p:first").height(),$("body").addClass("start"),$("#hero video:visible").prop("playing",!0).get()[0].play(),setTimeout(function(){$("body").removeClass("splash"),SmoothScroll._scroll(!0,!1,0,!1),SmoothScroll.unlock()},3500))},_events:function(){},_events_unload:function(){}},Amenities={_init:function(){this._base(),this._events()},_base:function(){},_events:function(){$(document).on("click",'section#amenity-maps button[action="map.close"]',function(){Amenities._interaction.popup.hide()}),$(document).on("vclick",'section#amenity-maps button[action="map.point"]',function(){Amenities._interaction.popup.toggle($(this))}),$(document).on("vclick","section#amenity-maps figure",function(){Amenities._interaction.popup.hide()}),$(document).on("vclick","section#amenity-maps div.amenity div",function(e){e.stopPropagation()})},_events_unload:function(){$(document).off("click",'section#amenity-maps button[action="map.close"]'),$(document).off("vclick",'section#amenity-maps button[action="map.point"]'),$(document).off("vclick","section#amenity-maps figure"),$(document).off("vclick","section#amenity-maps div.amenity div")},_interaction:{popup:{hide:function(){$("section#amenity-maps div.amenity").removeClass("active")},toggle:function(e){$amenity=e.parents("div.amenity"),$popup=$amenity.find("div"),$popup.right=$amenity.offset().left+$popup.width()+parseInt($popup.css("padding-left"))+parseInt($popup.css("padding-right")),e.parents("div.amenity").hasClass("active")||setTimeout(function(){$amenity.addClass("active").toggleClass("right",$popup.right>=$("#amenity-maps img").offset().left+$("#amenity-maps img").width())},1),this.hide()}}},_resize:{_init:function(){this.amenity_maps()},amenity_maps:function(){$("div.amenity.active").length&&($amenity=$("div.amenity.active"),$popup=$amenity.find("div"),$popup.right=$amenity.offset().left+$popup.width()+parseInt($popup.css("padding-left"))+parseInt($popup.css("padding-right")),$amenity.toggleClass("right",$popup.right>=$("#amenity-maps img").offset().left+$("#amenity-maps img").width()))}}},Floorplans={_init:function(){this._base(),this._events()},_base:function(){},_events:function(){$(document).on("click",'button[action="floorplans.suite_type"]',function(){Floorplans._interaction.filter($(this))})},_events_unload:function(){$(document).off("click",'button[action="floorplans.suite_type"]')},_interaction:{filter:function(e){if("all"==e.attr("suite_type")){if(e.hasClass("active"))return;$('button[action="floorplans.suite_type"][suite_type!="all"]').removeClass("active")}e.toggleClass("active"),"all"!=e.attr("suite_type")&&(e.hasClass("active")?$('button[action="floorplans.suite_type"][suite_type="all"]').removeClass("active"):$('button[action="floorplans.suite_type"].active').length||$('button[action="floorplans.suite_type"][suite_type="all"]').addClass("active"));let t=!!$('button[action="floorplans.suite_type"][suite_type="all"].active').length||$.map($('button[action="floorplans.suite_type"].active'),function(e,t){return $(e).attr("suite_type")});clearTimeout($("#floorplans").prop("plans")),$("#floorplans").removeClass("active").prop("plans",setTimeout(function(){$("#floorplans").addClass("active").find("ul li").each(function(){$(this).toggleClass("filtered",!(!0===t||$.inArray($(this).attr("suite_type"),t)>-1)).find("figure").removeClass("reveal")}),SmoothScroll._scroll(!0,!0,!1,!0,!0)},601))}}},Media={_register:{brochure:!1},_init:function(){this._base(),this._events()},_base:function(){},_events:function(){$(document).on("click",'button[action="media.type"]',function(){Media._interaction.filter($(this))}),$(document).on("click",'button[action="video.play"], figure.play-video',function(){Media._interaction.play_video($(this))})},_events_unload:function(){$(document).off("click",'button[action="media.type"]'),$(document).off("click",'button[action="video.play"], figure.play-video')},_interaction:{filter:function(e){e.hasClass("active")||(e.addClass("active").siblings().removeClass("active"),clearTimeout($("#media").prop("media")),clearTimeout($("#media").prop("section")),$("#media").removeClass("active").prop("section",setTimeout(function(){$("section.media#"+e.attr("media")).addClass("active").siblings(".media").removeClass("active").find("li.active").each(function(){$(this).removeClass("active").find("frame").removeAttr("src")}),SmoothScroll._scroll(!0,!0,!1,!0,!0)},401)).prop("active",setTimeout(function(){$("#media").addClass("active")},600)),SmoothScroll._scroll(!1,!0),$("#videos li.active").each(function(){$(this).removeClass("active").find("iframe").removeAttr("src")}))},play_video:function(e){e.parents("li").addClass("active").find("iframe").each(function(){$(this).attr("src",$(this).attr("data-src"))}).end().parents("#videos").find("li.active").not(e.parents("li")).each(function(){$(this).removeClass("active").find("iframe").removeAttr("src")})}},_resize:{}},Neighborhood={_register:{mobile:!1,mobile_tablet:!1,transit_map:!1},_init:function(){this._base(),this._events()},_base:function(){setTimeout(function(){$transit_map=$(".easyzoom").easyZoom(),Neighborhood._register.transit_map=$transit_map.data("easyZoom"),Neighborhood._register.transit_map.show(),Neighborhood._register.transit_map.hide()},1e3)},_events:function(){$(document).on("click",'button[action="neighborhood.highlight"], #new-neighborhood li img',function(){Neighborhood._interaction.highlight._init($(this))})},_events_unload:function(){$(document).off("click",'button[action="neighborhood.highlight"], #new-neighborhood li img'),Neighborhood._register.transit_map.teardown()},_interaction:{highlight:{_init:function(e){$li=e.parents("li"),$button=$li.find('button[action="neighborhood.highlight"]'),$text=$li.find("div.para p"),$text.height=$text.height()+parseInt($text.css("padding-top"))+parseInt($text.css("padding-bottom")),clearTimeout($("#new-neighborhood").prop("animate")),$("#new-neighborhood").find("li").addClass("animate").end().prop("animate",setTimeout(function(){$("#new-neighborhood li").removeClass("animate")},801)),this[$li.hasClass("active")?"deactivate":"activate"]($li,$text.height)},activate:function(e,t){e.find("div.para").css("height",t),e.prop("activate",setTimeout(function(){e.addClass("active").parents("#new-neighborhood").find("li").not(e).removeClass("active sibling"),(e.prevAll().length%2?e.prev():e.next()).addClass("sibling").siblings().removeClass("sibling")},1)),setTimeout(function(){e.find("div.para").removeAttr("style")},801)},deactivate:function(e,t){e.find("div.para").css("height",t),e.prop("activate",setTimeout(function(){e.removeClass("active").find("div.para").removeAttr("style").end().siblings("li").removeClass("active sibling")},10))}}},_resize:{_init:function(){$("#_mobile_tablet:visible").length&&!Neighborhood._register.mobile_tablet?($("#categories").appendTo("#area-map div.container"),Neighborhood._register.mobile_tablet=!0):!$("#_mobile_tablet:visible").length&&Neighborhood._register.mobile_tablet&&($("#categories").appendTo("#area-map form"),Neighborhood._register.mobile_tablet=!1),$("#_mobile:visible").length&&!Neighborhood._register.mobile?($("#legend").appendTo("#transit-map div.container"),Neighborhood._register.mobile=!0):!$("#_mobile:visible").length&&Neighborhood._register.mobile&&($("#legend").appendTo("#transit-map #transit-intro"),Neighborhood._register.mobile=!1)}}},AreaMap={_register:{map:!1,routeLayers:[]},_init:function(){setTimeout(function(){AreaMap._base()},1e3),this._events()},_base:function(){var e=[{category:"Cafes",name:"La Novita Bakery",latitude:43.584627,longitude:-79.620943,distance:.593518043},{category:"Cafes",name:"Starbucks",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Cafes",name:"Tim Hortons",latitude:43.576897,longitude:-79.619655,distance:1.36203308},{category:"Cafes",name:"Tim Hortons",latitude:43.590721,longitude:-79.639886,distance:1.112280354},{category:"Cafes",name:"Halo Espresso Bar",latitude:43.580458,longitude:-79.617181,distance:1.135377752},{category:"Cafes",name:"Tim Hortons",latitude:43.589109,longitude:-79.628062,distance:.166407794},{category:"Cafes",name:"Starbucks",latitude:43.591198,longitude:-79.647031,distance:1.684295661},{category:"Cafes",name:"Flavaco Coffee & Snacks",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Cafes",name:"Tim Hortons",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Cafes",name:"Dairy Queen Grill & Chill",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Cafes",name:"Sweet Temptations Bakery",latitude:43.59011,longitude:-79.603892,distance:1.840169935},{category:"Cafes",name:"Lazar Bakery",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Dining",name:"Goodfellas Wood Oven Pizza",latitude:43.59192,longitude:-79.635727,distance:.852605904},{category:"Dining",name:"Copper Branch",latitude:43.591359,longitude:-79.636826,distance:.903291237},{category:"Dining",name:"Udupi Madras CafÃ©",latitude:43.590809,longitude:-79.636165,distance:.830597853},{category:"Dining",name:"Grano Ristorante",latitude:43.59059,longitude:-79.63564,distance:.782371548},{category:"Dining",name:"Wally's Restaurant",latitude:43.589228,longitude:-79.629835,distance:.292719102},{category:"Dining",name:"Kusina Mississauga",latitude:43.580458,longitude:-79.617181,distance:1.135377752},{category:"Dining",name:"Cooksville Fish And Chips",latitude:43.581907,longitude:-79.615081,distance:1.151699844},{category:"Dining",name:"Popeyes",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Dining",name:"Roman Zaman Damascene Cuisine",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Dining",name:"The Alley",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Dining",name:"Union Burger",latitude:43.589968,longitude:-79.648344,distance:1.766468812},{category:"Dining",name:"Alijandro's Kitchen",latitude:43.58778,longitude:-79.645065,distance:1.490199693},{category:"Dining",name:"Earls Kitchen + Bar",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Dining",name:"Reds",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Dining",name:"Moxie's Grill & Bar",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Dining",name:"Pizza Pizza",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Dining",name:"Subway",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Dining",name:"Charlie's Caribbean Cuisine",latitude:43.581491,longitude:-79.617627,distance:1.026958145},{category:"Dining",name:"The Village",latitude:43.58189,longitude:-79.617941,distance:.977677347},{category:"Dining",name:"My Empanada",latitude:43.582295,longitude:-79.6185,distance:.913995897},{category:"Dining",name:"Al Nejmah Fine Foods",latitude:43.582295,longitude:-79.6185,distance:.913995897},{category:"Dining",name:"Buk Chang Dong Soon Tofu Korean Restaurant",latitude:43.582295,longitude:-79.6185,distance:.913995897},{category:"Dining",name:"Church's Texas Chicken",latitude:43.587569,longitude:-79.625844,distance:.081049728},{category:"Dining",name:"BarBQ Tonite",latitude:43.579494,longitude:-79.617595,distance:1.197027688},{category:"Grocers",name:"Rabba Fine Foods",latitude:43.58778,longitude:-79.645065,distance:1.490199693},{category:"Grocers",name:"FreshCo",latitude:43.577617,longitude:-79.614179,distance:1.53237803},{category:"Grocers",name:"Al Quds Markets",latitude:43.587569,longitude:-79.625844,distance:.081049728},{category:"Grocers",name:"Metro",latitude:43.5883,longitude:-79.6091,distance:1.407013427},{category:"Grocers",name:"Town & Country Market",latitude:43.594679,longitude:-79.635578,distance:1.032342521},{category:"Grocers",name:"Wholesale Club",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Grocers",name:"Walmart",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Sports and Recreation",name:"Mississauga Valley Community Centre",latitude:43.597025,longitude:-79.623942,distance:1.017291447},{category:"Sports and Recreation",name:"Goodlife Fitness Centre",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Sports and Recreation",name:"F45 Training Mississauga Downtown",latitude:43.59192,longitude:-79.635727,distance:.852605904},{category:"Sports and Recreation",name:"Mississauga YMCA",latitude:43.586859,longitude:-79.644297,distance:1.434389764},{category:"Sports and Recreation",name:"Sculpture Court - City Centre Skatepark",latitude:43.587243,longitude:-79.640248,distance:1.105764271},{category:"Sports and Recreation",name:"CJ's Skatepark",latitude:43.591385,longitude:-79.60105,distance:2.08776626},{category:"Sports and Recreation",name:"Mississauga Valley Gymnasium",latitude:43.597025,longitude:-79.623942,distance:1.017291447},{category:"Sports and Recreation",name:"Martin Dobkin Softball Park",latitude:43.581009,longitude:-79.632097,distance:.903270503},{category:"Parks",name:"Garden of the Valley",latitude:43.597025,longitude:-79.623942,distance:1.017291447},{category:"Parks",name:"Mississauga Valley Park",latitude:43.597025,longitude:-79.623942,distance:1.017291447},{category:"Parks",name:"Cliff Park",latitude:43.578987,longitude:-79.596576,distance:2.61855761},{category:"Parks",name:"Brickyard Park",latitude:43.572054,longitude:-79.628939,distance:1.791781452},{category:"Parks",name:"Fairview Park",latitude:43.581849,longitude:-79.630191,distance:.751421394},{category:"Parks",name:"Kariya Park",latitude:43.589632,longitude:-79.636295,distance:.802361665},{category:"Parks",name:"Dr. Martin L. Dobkin Community Park",latitude:43.578472,longitude:-79.633233,distance:1.195295722},{category:"Arts and Culture",name:"Art Gallery of Mississauga",latitude:43.588759,longitude:-79.644299,distance:1.430148545},{category:"Arts and Culture",name:"Living Arts Centre",latitude:43.589621,longitude:-79.645649,distance:1.546420535},{category:"Arts and Culture",name:"The Rec Room",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Arts and Culture",name:"Celebration Square",latitude:43.588759,longitude:-79.644299,distance:1.430148545},{category:"Health and Wellness",name:"Iona Dental Office - Dr. Vipin Mithia & Associates",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Health and Wellness",name:"Castlemore Dental",latitude:43.581336,longitude:-79.617136,distance:1.067098465},{category:"Health and Wellness",name:"Donato Salon + Spa",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Health and Wellness",name:"Fiorio",latitude:43.593066,longitude:-79.643111,distance:1.443318045},{category:"Health and Wellness",name:"Trillium Health Partners - Mississauga Hospital",latitude:43.572041,longitude:-79.608881,distance:2.282253115},{category:"Health and Wellness",name:"Medical Place Primary Care Centre",latitude:43.569955,longitude:-79.611219,distance:2.364012799},{category:"Health and Wellness",name:"Shoppers Drug Mart",latitude:43.577171,longitude:-79.61283,distance:1.641539454},{category:"Health and Wellness",name:"Shoppers Drug Mart",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Health and Wellness",name:"Grand LV Nails & Spa",latitude:43.592256,longitude:-79.625765,distance:.469261327},{category:"Health and Wellness",name:"LC Nails & Spa",latitude:43.582295,longitude:-79.6185,distance:.913995897},{category:"Health and Wellness",name:"Absolute Medi Spa",latitude:43.594937,longitude:-79.635752,distance:1.0626449},{category:"Health and Wellness",name:"Drs. Eckler, Black & Leung Orthodontists Smile Solutions",latitude:43.593679,longitude:-79.63809,distance:1.11775856},{category:"Health and Wellness",name:"Enfield Place Dental Centre",latitude:43.590809,longitude:-79.636165,distance:.830597853},{category:"Health and Wellness",name:"Enfield Place Medical Centre",latitude:43.590809,longitude:-79.636165,distance:.830597853},{category:"Health and Wellness",name:"I.D.A. - Unicare Pharmacy of Mississauga",latitude:43.582579,longitude:-79.638454,distance:1.13590279},{category:"Retail",name:"Square One Shopping Centre",latitude:43.591744,longitude:-79.644635,distance:1.443318045},{category:"Retail",name:"Hudson's Bay",latitude:43.593974,longitude:-79.644655,distance:1.443318045},{category:"Retail",name:"Nespresso",latitude:43.5935,longitude:-79.641361,distance:1.443318045},{category:"Retail",name:"Simons",latitude:43.593,longitude:-79.642885,distance:1.443318045},{category:"Retail",name:"Holt Renfrew",latitude:43.5925,longitude:-79.643685,distance:1.443318045},{category:"Retail",name:"Apple",latitude:43.592,longitude:-79.644505,distance:1.443318045},{category:"Retail",name:"Microsoft",latitude:43.5932,longitude:-79.643111,distance:1.443318045},{category:"Education",name:"Sheridan College",latitude:43.591198,longitude:-79.641361,distance:1.684295661},{category:"Education",name:"Bishop Scalabrini Separate School",latitude:43.584864,longitude:-79.63543,distance:.798209956},{category:"Education",name:"Fairview Public School",latitude:43.588842,longitude:-79.637034,distance:.847300859},{category:"Education",name:"Floradale Public School",latitude:43.571663,longitude:-79.615435,distance:2.03343124},{category:"Education",name:"Metropolitan Andrei Separate School",latitude:43.59272,longitude:-79.613373,distance:1.18143559},{category:"Education",name:"St. Catherine of Siena Separate School",latitude:43.574055,longitude:-79.61085,distance:2.008340303},{category:"Education",name:"St. Philip Elementary School",latitude:43.578959,longitude:-79.632593,distance:1.123967834},{category:"Education",name:"The Valleys Sr. Public School",latitude:43.598369,longitude:-79.623536,distance:1.170269445},{category:"Education",name:"Thornwood Public School",latitude:43.589126,longitude:-79.62087,distance:.47345519},{category:"Education",name:"TEAM School",latitude:43.582909,longitude:-79.606402,distance:1.722790041},{category:"Education",name:"AEC - Mississauga Campus",latitude:43.587934,longitude:-79.632831,distance:.504751401},{category:"Education",name:"TL Kennedy Secondary School",latitude:43.580764,longitude:-79.620661,distance:.941993618},{category:"Parks",name:"Stonnebrook Park Tennis Court",latitude:43.5883,longitude:-79.6091,distance:1.407013427},{category:"Parks",name:"Camilla Park Playground # 2",latitude:43.5883,longitude:-79.6091,distance:1.407013427},{category:"Parks",name:"Beach Volleyball Court",latitude:43.5883,longitude:-79.6091,distance:1.407013427},{category:"Parks",name:"Paul Gilbert Memorial Field",latitude:43.5883,longitude:-79.6091,distance:1.407013427},{category:"Parks",name:"Community Common Dog Spot",latitude:43.590338,longitude:-79.645729,distance:1.563644365}],t=[{slug:"new-line",name:"New Line",paint:{"line-color":"#000","line-width":2},markerOptions:{element:"",color:"#000"}},{slug:"lakeshore",name:"Lakeshore West Go Train Line",paint:{"line-color":"#000","line-width":2},markerOptions:{element:"",color:"#000"}},{slug:"milton",name:"Milton Line",paint:{"line-color":"#000","line-width":2},markerOptions:{element:"",color:"#000"}},{slug:"up",name:"Union-Pearson Express",paint:{"line-color":"#000","line-width":2},markerOptions:{element:"",color:"#000"}},{slug:"kitchener",name:"Kitchener",paint:{"line-color":"#000","line-width":2},markerOptions:{element:"",color:"#000"}}],n={"new-line":[{title:"Port Credit Go Station",marker:!1,latlng:[-79.58687,43.556007]},{title:"Mineola",latlng:[-79.590596,43.561784]},{title:"North Service",latlng:[-79.601742,43.569875]},{title:"Queensway",latlng:[-79.607589,43.574095]},{title:"Dundas",latlng:[-79.616419,43.580243]},{title:"Cooksville GO",marker:!1},{title:"Fairview",latlng:[-79.626816,43.587539]},{title:"Burnhamthorpe",latlng:[-79.635066,43.593686]},{title:"Robert Speck",latlng:[-79.638456,43.596204]},{title:"Square One District",latlng:[-79.644591,43.600622]},{title:"Eglinton",latlng:[-79.65297,43.606791]},{title:"Bristol",latlng:[-79.663549,43.614474]},{title:"Matheson",latlng:[-79.670255,43.61943]},{title:"Britannia",latlng:[-79.679267,43.626265]},{title:"Courtneypark",latlng:[-79.694215,43.637161]},{title:"Derry",latlng:[-79.706113,43.646066]},{title:"Ray Lawson",latlng:[-79.723401,43.658636]},{title:"Courtney Court",latlng:[-79.727274,43.661717]},{title:"Brampton Gateway Terminal"}],lakeshore:[{title:"Bronte GO Station"},{title:"Oakville GO Station"},{title:"Clarkson GO Station",address:"1110 Southdown Road",distance:"8-MINUTE TRANSIT"},{title:"Port Credit GO Station",address:"30 Queen Street East",distance:"1-MINUTE WALK",latlng:[-79.58687,43.556007]},{title:"Long Branch GO Station",address:"20 Brow Drive",distance:"7-MINUTE TRANSIT"},{title:"Mimico GO Station"},{marker:!1,latlng:[-79.476182,43.634947]},{marker:!1,latlng:[-79.452869,43.64087]},{title:"Exhibition GO Station"},{title:"Toronto Union Station"},{title:"Danforth GO Station",latlng:[-79.298751,43.68662]}],milton:[{title:"Milton GO Station",latlng:[-79.867161,43.523644]},{title:"Lisgar GO Station"},{title:"Meadowvale GO Station"},{title:"Streetsville GO Station"},{latlng:[-79.67513,43.568414],marker:!1},{title:"Erindale GO Station",latlng:[-79.667256,43.566746],address:"1320 Rathburn Road West",distance:"17-MINUTE DRIVE"},{latlng:[-79.659183,43.565258],marker:!1},{title:"Cooksville GO Station",address:"Cooksville, Mississauga",distance:"21-MINUTE TRANSIT"},{title:"Dixie GO Station",address:"2445 Dixie Road",distance:"12-MINUTE DRIVE",latlng:[-79.577698,43.608232]},{title:"Kipling GO"},{latlng:[-79.47537,43.661025],marker:!1},{title:"UP Express Bloor Station",latlng:[-79.450091,43.656793]}],up:[{title:"Toronto Union Station",marker:!1,latlng:[-79.382775,43.64483]},{title:"UP Express Bloor Station",latlng:[-79.450596,43.656529],marker:!1},{title:"Weston GO/UP Station",latlng:[-79.514663,43.700302],marker:!1},{latlng:[-79.584814,43.697349],marker:!1},{title:"Toronto Pearson International Airport",latlng:[-79.612496,43.682348],address:"6301 Silver Dart Drive",distance:"15-MINUTE DRIVE"}],kitchener:[{title:"Toronto Union Station",marker:!1},{title:"UP Express Bloor Station",latlng:[-79.450091,43.656793]},{title:"Weston GO/UP Station",latlng:[-79.513663,43.700302]},{latlng:[-79.523644,43.706235],marker:!1},{title:"Etobicoke North",latlng:[-79.563276,43.706832]},{title:"Malton GO Station",latlng:[-79.638268,43.705488]},{title:"Bramalea GO",latlng:[-79.6912,43.701914]},{title:"Brampton GO",latlng:[-79.764705,43.686934]},{title:"Mount Pleasant GO",latlng:[-79.821082,43.675858]},{title:"Georgetown GO",latlng:[-79.919065,43.655404]}]};mapboxgl.accessToken="pk.eyJ1Ijoib2xpdmlhcm9obmVyIiwiYSI6ImNrN2ZhaHVrMDAwd3YzbG8wNHI3YjN5emQifQ.FXFJumPlsHNdMGZ0Un7xCQ",AreaMap._register.map=new mapboxgl.Map({container:"mapbox",style:"mapbox://styles/oliviarohner/ckp5la2lu9b6h18mosaks4fpk",center:[-79.626567,43.588076],zoom:12,maxBounds:[[-79.80946539725458,43.44074183660986],[-79.338018041273,43.70059242426043]],dragRotate:!1,trackResize:!0}),AreaMap._register.map.addControl(new mapboxgl.NavigationControl({showCompass:!1}),"bottom-right"),AreaMap._register.map.on("load",function(){$.each(e,function(e,t){t.distance=t.distance<1?Math.round(1e3*t.distance)+"M":Math.round(10*t.distance)/10+"KM",new mapboxgl.Marker($('<div class="mapbox-marker '+t.category.trim().replace(/\s+/g,"-").toLowerCase()+'"><div class="inner"></div><div class="popup"><button type="button" action="close-popup"></button><strong>'+t.name+"</strong><small>"+t.distance+"</small></div></div>").get(0)).setLngLat([t.longitude,t.latitude]).addTo(AreaMap._register.map)}),new mapboxgl.Marker($('<div class="mapbox-marker alba active"><div class="inner"></div><div class="popup"><button type="button" action="close-popup"></button><strong>Alba Condos</strong><small>1 Fairview Road East</small></div></div>').get(0)).setLngLat([-79.626567,43.588076]).addTo(AreaMap._register.map),t.forEach(e=>{let t=e.points?e.points:e.slug,i=[];n[t].forEach(t=>{let n=t.address?t.address:t.title,o=t.latlng?t.latlng:AreaMap._functions.getLatLong({address:n},mapboxgl.accessToken);i.push(o),!1===t.marker||e.outline||new mapboxgl.Marker($('<div class="mapbox-marker transit active"><div class="inner"></div><div class="popup"><button type="button" action="close-popup"></button><strong>'+t.title+"</strong></div></div>").get(0)).setLngLat(o).addTo(AreaMap._register.map)}),AreaMap._register.map.addSource(e.slug,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:i}}}),AreaMap._register.map.addLayer({id:e.slug,type:"line",source:e.slug,layout:{"line-join":"bevel","line-cap":"square",visibility:"visible"},paint:e.paint}),AreaMap._register.routeLayers.push(e.slug)})})},_events:function(){$(document).on("click","section#area-map div#mapbox",function(){AreaMap._interaction.popup.hide()}),$(document).on("click","section#area-map div.mapbox-marker.active div.popup",function(e){e.stopPropagation()}),$(document).on("click",'section#area-map button[action="category"]',function(){AreaMap._interaction.category($(this))}),$(document).on("click",'section#area-map button[action="transit"]',function(){AreaMap._interaction.transit($(this))}),$(document).on("click",'section#area-map button[action="close-popup"]',function(){AreaMap._interaction.popup.hide()}),$(document).on("vclick","section#area-map div.mapbox-marker div.inner",function(){AreaMap._interaction.popup.toggle($(this))})},_events_unload:function(){$(document).off("click","section#area-map div#mapbox"),$(document).off("click","section#area-map div.mapbox-marker.active div.popup"),$(document).off("click",'section#area-map button[action="category"]'),$(document).off("click",'section#area-map button[action="transit"]'),$(document).off("click",'section#area-map button[action="close-popup"]'),$(document).off("vclick","section#area-map div.mapbox-marker div.inner")},_functions:{getLatLong(e,t){let n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+encodeURI(e.address)+".json?access_token="+t,i=AreaMap._register.map.getCenter();n+="&proximity="+i.lng+","+i.lat;let o=this.httpGetJSON(n);return o.features&&0!=o.features.length?o.features[0].center:(console.log("Location not found:",e),!1)},httpGetJSON(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),JSON.parse(t.responseText)}},_interaction:{category:function(e){e.toggleClass("active"),$(".mapbox-marker."+e.attr("category")).toggleClass("active",!!e.hasClass("active"))},popup:{hide:function(){$("div.mapbox-marker:not(.popping-up)").removeClass("popup")},toggle:function(e){e.parents("div.mapbox-marker").hasClass("popup")||setTimeout(function(){e.parents("div.mapbox-marker").addClass("popup popping-up")},1),setTimeout(function(){e.parents("div.mapbox-marker").removeClass("popping-up")},100),this.hide()}},transit:function(e){e.toggleClass("active"),$(".mapbox-marker.transit").toggleClass("active",!!e.hasClass("active")),AreaMap._register.routeLayers.forEach(function(t){AreaMap._register.map.setLayoutProperty(t,"visibility",e.hasClass("active")?"visible":"none")})}},_resize:{_init:function(){AreaMap._register.map&&setTimeout(function(){AreaMap._register.map.resize()},1)}}},Form={_init:function(){this._base(),this._events()},_base:function(){},_events:function(){$(document).on("touchstart.page touchend.page mousemove.page","form[handler]:not([action])",function(e){$(document).off("touchstart.page touchend.page mousemove.page",$(this)),$(this).attr("action",$(this).attr("handler"))}),$(document).on("submit",'form[controller="form"]',function(e){Form._interaction.post($(this),!1,!1),e.preventDefault()}),$(document).on("keyup",'form[controller="form"] input, form[controller="form"] select, form[controller="form"] textarea',function(){Form._interaction.controls.label($(this))}),$(document).on("keydown",'form[controller="form"] textarea[auto-expand]',function(){Form._interaction.controls.textarea($(this))}),$(document).on("change",'input[type="checkbox"][toggle]',function(){Form._interaction.controls.toggle._init($(this))}),$(document).on("vclick",function(e){Form._interaction.controls.dropdown.close(e)}),$(document).on("vclick","div.select div button",function(e){Form._interaction.controls.dropdown.select($(this),e)}),$(document).on("vclick","div.select",function(e){Form._interaction.controls.dropdown.toggle($(this),e)}),$(document).on("change","select",function(){Form._interaction.controls.dropdown.change($(this))}),$(document).on("keyup","fieldset.error input",function(){Form._interaction.controls.validation($(this))}),$(document).on("change","fieldset.error select",function(){Form._interaction.controls.validation($(this))})},_events_unload:function(){$(document).off("submit",'form[controller="form"]'),$(document).off("keyup",'form[controller="form"] input, form[controller="form"] select, form[controller="form"] textarea'),$(document).off("keydown",'form[controller="form"] textarea[auto-expand]'),$(document).off("change",'input[type="checkbox"][toggle]'),$(document).off("vclick"),$(document).off("vclick","div.select div button"),$(document).off("vclick","div.select"),$(document).off("change","select"),$(document).off("keyup","fieldset.error input"),$(document).off("change","fieldset.error select")},_interaction:{controls:{dropdown:{change:function(e){e.parents("div.select").addClass("selected").removeClass("active").find('div button[value="'+e.val()+'"]').addClass("active").siblings().removeClass("active"),"realtor_status"==e.attr("name")&&($('form fieldset[realtor][realtor!="'+e.val()+'"]').removeClass("active").find("input").val(""),$('form fieldset[realtor="'+e.val()+'"]').addClass("active"))},close:function(e){$("form div.select").removeClass("active")},select:function(e,t){e.addClass("active").siblings().removeClass("active").end().parents("div.select").removeClass("active").find("select").val(e.val()),e.parents("div.select").find("select").trigger("change"),t.stopPropagation()},toggle:function(e,t){$("form div.select").not(e).removeClass("active"),e.toggleClass("active"),t.stopPropagation()}},label:function(e){e.parents("fieldset").toggleClass("active",!!e.val())},textarea:function(e){setTimeout(function(){e.css("height","auto"),e.css("height",e.prop("scrollHeight")+2+"px")},0)},validation:function(e){e.parents("fieldset").removeClass("error")}},post:function(e,t,n){e.attr("processing")||(e.attr("processing","processing"),$.post(t||e.attr("action"),n||e.serialize(),function(t){Form._interaction.success(e,t)}))},success:function(e,t){if(console.log(t),e.removeAttr("processing"),t)if(e.find("fieldset.error").removeClass("error"),$response=$.parseJSON(t),"ok"==$response.status)switch($response.data.action){case"register":Website._transition._init(!1),Website._smoothState.load("/thank-you");break;case"reload":window.location.reload()}else e.removeAttr("processing"),Form._interaction.errors(e,$response.data)},errors:function(e,t){console.log(t),$.each(t,function(n,i){(i=i.toString().split(":"))[0].indexOf("{")>-1?(i[0]=i[0].split("{"),i[0][1]=i[0][1].substring(0,i[0][1].length-1)):i[0]=[i[0],"0"],e.find('[name="'+i[0][0]+'"]').length&&e.find('[name="'+i[0][0]+'"]:eq('+i[0][1]+")").parents("fieldset").addClass("error"),t.length>1?$("h1").text("Please complete all required fields"):$("h1").text(t[0].split(":")[1])}),SmoothScroll._attributes.document.main_element.stop().animate({scrollTop:0},800,"easeInOutCubic")}}};jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,o){return jQuery.easing[jQuery.easing.def](e,t,n,i,o)},easeInQuad:function(e,t,n,i,o){return i*(t/=o)*t+n},easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,o){return i*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,o){return i*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,i,o){return-i*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,o){return i*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,o){return i*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,o){return-i*Math.cos(t/o*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,i,o){return 0==t?n:i*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,i,o){return t==o?n+i:i*(1-Math.pow(2,-10*t/o))+n},easeInOutExpo:function(e,t,n,i,o){return 0==t?n:t==o?n+i:(t/=o/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,o){return-i*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,i,o){return i*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,i,o){return(t/=o/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,o){var a=1.70158,r=0,s=i;if(0==t)return n;if(1==(t/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)+n},easeOutElastic:function(e,t,n,i,o){var a=1.70158,r=0,s=i;if(0==t)return n;if(1==(t/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin((t*o-a)*(2*Math.PI)/r)+i+n},easeInOutElastic:function(e,t,n,i,o){var a=1.70158,r=0,s=i;if(0==t)return n;if(2==(t/=o/2))return n+i;if(r||(r=o*(.3*1.5)),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*-.5+n:s*Math.pow(2,-10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*.5+i+n},easeInBack:function(e,t,n,i,o,a){return null==a&&(a=1.70158),i*(t/=o)*t*((a+1)*t-a)+n},easeOutBack:function(e,t,n,i,o,a){return null==a&&(a=1.70158),i*((t=t/o-1)*t*((a+1)*t+a)+1)+n},easeInOutBack:function(e,t,n,i,o,a){return null==a&&(a=1.70158),(t/=o/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+n:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+n},easeInBounce:function(e,t,n,i,o){return i-jQuery.easing.easeOutBounce(e,o-t,0,i,o)+n},easeOutBounce:function(e,t,n,i,o){return(t/=o)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,o)+n:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,i,o)+.5*i+n}}),function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,i){(function(e,t,n,i){function o(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function a(t,n){var a,r,s,l,c,u,d,h,p,m=t.type;if((t=e.Event(t)).type=n,a=t.originalEvent,r=e.event.props,m.search(/^(mouse|click)/)>-1&&(r=E),a)for(d=r.length;d;)t[l=r[--d]]=a[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(m=(s=o(a)).touches,c=s.changedTouches,u=m&&m.length?m[0]:c&&c.length?c[0]:i))for(h=0,p=x.length;h<p;h++)t[l=x[h]]=u[l];return t}function r(t){for(var n,i,o={};t;){for(i in n=e.data(t,w))n[i]&&(o[i]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function s(t,n){for(var i;t;){if((i=e.data(t,w))&&(!n||i[n]))return t;t=t.parentNode}return null}function l(){W=!0}function c(){W=!1}function u(){d(),P=setTimeout(function(){P=0,G=0,I.length=0,N=!1,l()},e.vmouse.resetTimerDuration)}function d(){P&&(clearTimeout(P),P=0)}function h(t,n,i){var o;return(i&&i[t]||!i&&s(n.target,t))&&(o=a(n,t),e(n.target).trigger(o)),o}function p(t){var n,i=e.data(t.target,C);!N&&(!G||G!==i)&&((n=h("v"+t.type,t))&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function m(t){var n,i,a,s=o(t).touches;s&&1===s.length&&((i=r(n=t.target)).hasVirtualBinding&&(G=L++,e.data(n,C,G),d(),c(),O=!1,a=o(t).touches[0],D=a.pageX,A=a.pageY,h("vmouseover",t,i),h("vmousedown",t,i)))}function g(e){W||(O||h("vmousecancel",e,r(e.target)),O=!0,u())}function f(t){if(!W){var n=o(t).touches[0],i=O,a=e.vmouse.moveDistanceThreshold,s=r(t.target);(O=O||Math.abs(n.pageX-D)>a||Math.abs(n.pageY-A)>a)&&!i&&h("vmousecancel",t,s),h("vmousemove",t,s),u()}}function v(e){if(!W){l();var t,n,i=r(e.target);h("vmouseup",e,i),O||(t=h("vclick",e,i))&&t.isDefaultPrevented()&&(n=o(e).changedTouches[0],I.push({touchID:G,x:n.clientX,y:n.clientY}),N=!0),h("vmouseout",e,i),O=!1,u()}}function b(t){var n,i=e.data(t,w);if(i)for(n in i)if(i[n])return!0;return!1}function y(){}function _(t){var n=t.substr(1);return{setup:function(){b(this)||e.data(this,w,{}),e.data(this,w)[t]=!0,T[t]=(T[t]||0)+1,1===T[t]&&R.bind(n,p),e(this).bind(n,y),j&&(T.touchstart=(T.touchstart||0)+1,1===T.touchstart&&R.bind("touchstart",m).bind("touchend",v).bind("touchmove",f).bind("scroll",g))},teardown:function(){--T[t],T[t]||R.unbind(n,p),j&&(--T.touchstart,T.touchstart||R.unbind("touchstart",m).unbind("touchmove",f).unbind("touchend",v).unbind("scroll",g));var i=e(this),o=e.data(this,w);o&&(o[t]=!1),i.unbind(n,y),b(this)||i.removeData(w)}}}var $,k,w="virtualMouseBindings",C="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),x="clientX clientY pageX pageY screenX screenY".split(" "),M=e.event.mouseHooks?e.event.mouseHooks.props:[],E=e.event.props.concat(M),T={},P=0,D=0,A=0,O=!1,I=[],N=!1,W=!1,j="addEventListener"in n,R=e(n),L=1,G=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},k=0;k<S.length;k++)e.event.special[S[k]]=_(S[k]);j&&n.addEventListener("click",function(t){var n,i,o,a,r,s=I.length,l=t.target;if(s)for(n=t.clientX,i=t.clientY,$=e.vmouse.clickDistanceThreshold,o=l;o;){for(a=0;a<s;a++)if(r=I[a],0,o===l&&Math.abs(r.x-n)<$&&Math.abs(r.y-i)<$||e.data(o,C)===r.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)})(e,0,n),function(e){e.mobile={}}(e),function(e,t){var i={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,t,i){function o(t,n,o,a){var r=o.type;o.type=n,a?e.event.trigger(o,i,t):e.event.dispatch.call(t,o),o.type=r}var a=e(n),r=e.mobile.support.touch,s="touchmove scroll",l=r?"touchstart":"mousedown",c=r?"touchend":"mouseup",u=r?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){o(a,(n=t)?"scrollstart":"scrollstop",e)}var n,i,a=this;e(a).bind(s,function(o){e.event.special.scrollstart.enabled&&(n||t(o,!0),clearTimeout(i),i=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind(s)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),i=!1;n.bind("vmousedown",function(r){function s(){clearTimeout(u)}function l(){s(),n.unbind("vclick",c).unbind("vmouseup",s),a.unbind("vmousecancel",l)}function c(e){l(),i||d!==e.target?i&&e.preventDefault():o(t,"tap",e)}if(i=!1,r.which&&1!==r.which)return!1;var u,d=r.target;n.bind("vmouseup",s).bind("vclick",c),a.bind("vmousecancel",l),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(i=!0),o(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,i=t.pageYOffset,o=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=n,a-=i):(a<e.pageY-i||o<e.pageX-n)&&(o=e.pageX-n,a=e.pageY-i),{x:o,y:a}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,n,i,a){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var r=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return o(i,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:n}),!0),o(i,r,e.Event(r,{target:a,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,i=e(n),o={};(t=e.data(this,"mobile-events"))||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=o,o.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var i,r=e.event.special.swipe.start(t),s=t.target,l=!1;o.move=function(t){r&&!t.isDefaultPrevented()&&(i=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(r,i,n,s))&&(e.event.special.swipe.eventInProgress=!1),Math.abs(r.coords[0]-i.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},o.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,a.off(u,o.move),o.move=null},a.on(u,o.move).one(c,o.stop)}},i.on(l,o.start)},teardown:function(){var t,n;(t=e.data(this,"mobile-events"))&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(l,n.start),n.move&&a.off(u,n.move),n.stop&&a.off(c,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this),function(e,t,n){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e),function(e,t,n){var i={},o=e.find,a=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,r=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,n){var i;(t=t.jquery?t[0]:t)&&t.getAttribute&&(i=t.getAttribute("data-"+e.mobile.ns+n));try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:a.test(i)?JSON.parse(i):i)}catch(e){}return i},nsNormalizeDict:i,nsNormalize:function(t){return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,n){var i;return void 0!==t&&(t&&(t=e.mobile.nsNormalize(t)),i=arguments.length<2||void 0===n?this.data(t):this.data(t,n)),i},e.jqmData=function(t,n,i){var o;return void 0!==n&&(o=e.data(t,n?e.mobile.nsNormalize(n):n,i)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.find=function(t,n,i,a){return t.indexOf(":jqmData")>-1&&(t=t.replace(r,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,n,i,a)},e.extend(e.find,o)}(e),function(e,t){function i(t,n){var i,a,r,s=t.nodeName.toLowerCase();return"area"===s?(a=(i=t.parentNode).name,!(!t.href||!a||"map"!==i.nodeName.toLowerCase())&&(!!(r=e("img[usemap=#"+a+"]")[0])&&o(r))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||n)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||n):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(a,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var a="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(r,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(r,o(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in n.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var o,a,r=e(this[0]);r.length&&r[0]!==n;){if(("absolute"===(o=r.css("position"))||"relative"===o||"fixed"===o)&&(a=parseInt(r.css("zIndex"),10),!isNaN(a)&&0!==a))return a;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var o,a=e.ui[t].prototype;for(o in i)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)e.options[a[o][0]]&&a[o][1].apply(e.element,n)}}}(e),function(e,t,i){e.extend(e.mobile,{window:e(t),document:e(n),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(n){"number"!==e.type(n)&&(n=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,n),e.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var n=e(t).closest(".ui-page").jqmData("url"),i=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&n&&e.mobile.path.isPath(n)||(n=i),e.mobile.path.makeUrlAbsolute(n,i)},removeActiveLinkClass:function(t){!!e.mobile.activeClickedLink&&(!e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length||t)&&e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var n,i,o=e[0],a="",r=/ui-(bar|body|overlay)-([a-z])\b/;o&&!((n=o.className||"")&&(i=r.exec(n))&&(a=i[2]));)o=o.parentNode;return a||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var i,o,a,r,s=t.length,l=e();for(r=0;r<s;r++){for(o=t.eq(r),a=!1,i=t[r];i;){if("false"===(i.getAttribute?i.getAttribute("data-"+e.mobile.ns+n):"")){a=!0;break}i=i.parentNode}a||(l=l.add(o))}return l},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var n=e("."+e.mobile.activePageClass),i=n.height(),o=n.outerHeight(!0);t=function(t,n){var i=t.parent(),o=[],a=function(){var t=e(this),n=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:!1!==t.attr("data-"+e.mobile.ns+"update-page-padding")};return"fixed"!==n.position||!0!==n.updatePagePadding},r=i.children(":jqmData(role='header')").filter(a),s=t.children(":jqmData(role='header')"),l=i.children(":jqmData(role='footer')").filter(a),c=t.children(":jqmData(role='footer')");return 0===s.length&&r.length>0&&(o=o.concat(r.toArray())),0===c.length&&l.length>0&&(o=o.concat(l.toArray())),e.each(o,function(t,i){n-=e(i).outerHeight()}),Math.max(0,n)}(n,"number"==typeof t?t:e.mobile.getScreenHeight()),n.css("min-height",""),n.height()<t&&n.css("min-height",t-(o-i))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),n=t.loader.apply(t,arguments);return this.loading._widget=t,n}}),e.addDependents=function(t,n){var i=e(t),o=i.jqmData("dependents")||e();i.jqmData("dependents",e(o).add(n))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,n={},i=e.mobile.page.prototype.keepNativeSelector(),o=this;for(t in e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(i).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(i).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,a){if(a.initSelector){var r=e.mobile.enhanceable(o.find(a.initSelector));r.length>0&&(r=r.not(i)),r.length>0&&(n[a.prototype.widgetName]=r)}}),n)n[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.addDependents=function(t,n){var i=e(t),o=i.jqmData("dependents")||e();i.jqmData("dependents",e(o).add(n))},e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(e,this),function(e,i){t.matchMedia=t.matchMedia||function(e,t){var n,i=e.documentElement,o=i.firstElementChild||i.firstChild,a=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(a,o),n=42===r.offsetWidth,i.removeChild(a),{matches:n,media:e}}}(n),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,i){function o(e){var t,n=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+l.join(n+" ")+n).split(" ");for(t in o)if(s[o[t]]!==i)return!0}var a,r=e("<body>").prependTo("html"),s=r[0].style,l=["Webkit","Moz","O"],c="palmGetResource"in t,u=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),d=t.blackberry&&!o("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=n.createElement("div"),i=t.all||[];do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e"}while(i[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:function(){var o,a,s,c="transform-3d",u=e.mobile.media("(-"+l.join("-"+c+"),(-")+"-"+c+"),("+c+")");if(u)return!!u;for(s in o=n.createElement("div"),a={MozTransform:"-moz-transform",transform:"transform"},r.append(o),a)o.style[s]!==i&&(o.style[s]="translate3d( 100px, 1px, 1px )",u=t.getComputedStyle(o).getPropertyValue(a[s]));return!!u&&"none"!==u}(),boxShadow:!!o("boxShadow")&&!d,fixedPosition:function(){var e=t,n=navigator.userAgent,i=navigator.platform,o=n.match(/AppleWebKit\/([0-9]+)/),a=!!o&&o[1],r=n.match(/Fennec\/([0-9]+)/),s=!!r&&r[1],l=n.match(/Opera Mobi\/([0-9]+)/),c=!!l&&l[1];return!((i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&a&&a<534||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&c<7458||n.indexOf("Android")>-1&&a&&a<533||s&&s<6||"palmGetResource"in t&&a&&a<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1)}(),scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in r[0])&&!c&&!u,dynamicBaseTag:function(){var t,n=location.protocol+"//"+location.host+location.pathname+"ui-dir/",i=e("head base"),o=null,a="";return i.length?a=i.attr("href"):i=o=e("<base>",{href:n}).appendTo("head"),t=e("<a href='testurl' />").prependTo(r)[0].href,i[0].href=a||location.pathname,o&&o.remove(),0===t.indexOf(n)}(),cssPointerEvents:function(){var e,i=n.createElement("x"),o=n.documentElement,a=t.getComputedStyle;return"pointerEvents"in i.style&&(i.style.pointerEvents="auto",i.style.pointerEvents="x",o.appendChild(i),e=a&&"auto"===a(i,"").pointerEvents,o.removeChild(i),!!e)}(),boundingRect:void 0!==n.createElement("div").getBoundingClientRect,inlineSVG:function(){var n=t,i=!(!n.document.createElementNS||!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||n.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(t){(!t||!i)&&e("html").addClass("ui-nosvg")},a=new n.Image;a.onerror=function(){o(!1)},a.onload=function(){o(1===a.width&&1===a.height)},a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}),r.remove(),a=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||u||a,a&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e)}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){t(e)}):"object"==typeof module&&module.exports?module.exports=e.EasyZoom=t(require("jquery")):e.EasyZoom=t(e.jQuery)}(this,function(e){"use strict";var t,n,i,o,a,r,s={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,linkAttribute:"href",preventClicks:!0,beforeShow:e.noop,beforeHide:e.noop,onShow:e.noop,onHide:e.noop,onMove:e.noop};function l(t,n){this.$target=e(t),this.opts=e.extend({},s,n,this.$target.data()),void 0===this.isOpen&&this._init()}return l.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=e('<div class="easyzoom-flyout" />'),this.$notice=e('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":e.proxy(this._onMove,this),"mouseleave.easyzoom touchend.easyzoom":e.proxy(this._onLeave,this),"mouseenter.easyzoom touchstart.easyzoom":e.proxy(this._onEnter,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(e){e.preventDefault()})},l.prototype.show=function(e,a){var r=this;if(!1!==this.opts.beforeShow.call(this)){if(!this.isReady)return this._loadImage(this.$link.attr(this.opts.linkAttribute),function(){!r.isMouseOver&&a||r.show(e)});this.$target.append(this.$flyout);var s=this.$target.outerWidth(),l=this.$target.outerHeight(),c=this.$flyout.width(),u=this.$flyout.height(),d=this.$zoom.width(),h=this.$zoom.height();t=Math.ceil(d-c),n=Math.ceil(h-u),t<0&&(t=0),n<0&&(n=0),i=t/s,o=n/l,this.isOpen=!0,this.opts.onShow.call(this),e&&this._move(e)}},l.prototype._onEnter=function(e){var t=e.originalEvent.touches;this.isMouseOver=!0,t&&1!=t.length||(e.preventDefault(),this.show(e,!0))},l.prototype._onMove=function(e){this.isOpen&&(e.preventDefault(),this._move(e))},l.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide()},l.prototype._onLoad=function(e){e.currentTarget.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),e.data.call&&e.data())},l.prototype._onError=function(){var e=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){e.$notice.detach(),e.detachNotice=null},this.opts.errorDuration)},l.prototype._loadImage=function(t,n){var i=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=e(i).on("error",e.proxy(this._onError,this)).on("load",n,e.proxy(this._onLoad,this)),i.style.position="absolute",i.src=t},l.prototype._move=function(e){if(0===e.type.indexOf("touch")){var s=e.touches||e.originalEvent.touches;a=s[0].pageX,r=s[0].pageY}else a=e.pageX||a,r=e.pageY||r;var l=this.$target.offset(),c=a-l.left,u=r-l.top,d=Math.ceil(c*i),h=Math.ceil(u*o);if(d<0||h<0||d>t||h>n)this.hide();else{var p=-1*h,m=-1*d;this.$zoom.css({top:p,left:m}),this.opts.onMove.call(this,p,m)}},l.prototype.hide=function(){this.isOpen&&!1!==this.opts.beforeHide.call(this)&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide.call(this))},l.prototype.swap=function(t,n,i){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:t,srcset:e.isArray(i)?i.join():i}),this.$link.attr(this.opts.linkAttribute,n)},l.prototype.teardown=function(){this.hide(),this.$target.off(".easyzoom").removeClass("is-loading is-ready is-error"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},e.fn.easyZoom=function(t){return this.each(function(){var n=e.data(this,"easyZoom");n?void 0===n.isOpen&&n._init():e.data(this,"easyZoom",new l(this,t))})},l}),function(e,t,n){"use strict";if(!t.history.pushState)return e.fn.smoothState=function(){return this},e.fn.smoothState.options={};var i,o,a,r;e.fn.smoothState||(i=e("html, body"),o=t.console,a={isExternal:function(e){return"string"==typeof(e=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/))[1]&&0<e[1].length&&e[1].toLowerCase()!==t.location.protocol||"string"==typeof e[2]&&0<e[2].length&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[t.location.protocol]+")?$"),"")!==t.location.host},stripHash:function(e){return e.replace(/#.*/,"")},isHash:function(e,n){n=n||t.location.href;var i=-1<e.indexOf("#");n=a.stripHash(e)===a.stripHash(n);return i&&n},translate:function(t){var n={dataType:"html",type:"GET"};return"string"==typeof t?e.extend({},n,{url:t}):e.extend({},n,t)},shouldLoadAnchor:function(e,t,n){var i=e.prop("href");return!(a.isExternal(i)||a.isHash(i)||e.is(t)||e.prop("target")||""!==n&&-1===e.prop("href").search(n))},clearIfOverCapacity:function(e,t){return Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Object.keys(e).length>t&&(e={}),e},storePageIn:function(t,n,i,o,a){var r=e("<html></html>").append(e(i));return t[n]={status:"loaded",title:r.find("title").first().text(),html:r.find("#"+a),doc:i},o&&(t[n].classes=o),t},triggerAllAnimationEndEvent:function(t,n){n=" "+n||"";var i=0;t.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",function(n){e(n.delegateTarget).is(t)&&(n.stopPropagation(),i++)}),t.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(n){e(n.delegateTarget).is(t)&&(n.stopPropagation(),0==--i&&t.trigger("allanimationend"))}),t.on("allanimationend"+n,function(){i=0,a.redraw(t)})},redraw:function(e){e.height()}},r=function(r,s){function l(e){(e=e||!1)&&b.hasOwnProperty(e)?delete b[e]:b={},p.data("smoothState").cache=b}function c(t,n){n=n||e.noop;var i=a.translate(t);(b=a.clearIfOverCapacity(b,s.cacheLength)).hasOwnProperty(i.url)&&void 0===i.data||(b[i.url]={status:"fetching"},(t=e.ajax(i)).success(function(e){a.storePageIn(b,i.url,e,e.match(/body\sclass=['|"]([^'|"]*)['|"]/),g),p.data("smoothState").cache=b}),t.error(function(){b[i.url].status="error"}),n&&t.complete(n))}function u(a){var r="#"+g,l=b[a]?e(b[a].html.html()):null;l&&l.length?(n.title=b[a].title,p.data("smoothState").href=a,s.loadingClass&&i.removeClass(s.loadingClass),s.onReady.render(p,l,b[a].classes,b[a]?b[a].title:"",a),p.one("ss.onReadyEnd",function(){var t;v=!1,s.onAfter(p,l,b[a].classes,a,b[a]?b[a].title:""),s.scroll&&f&&((t=e(f,p)).length&&(t=t.offset().top,i.scrollTop(t)),f=null)}),t.setTimeout(function(){p.trigger("ss.onReadyEnd")},s.onReady.duration)):!l&&s.debug&&o?o.warn("No element with an id of "+r+" in response from "+a+" in "+b):t.location=a}function d(e,n,r){s.href=e.url;var d=a.translate(e);void 0===n&&(n=!0),void 0===r&&(r=!0);var h=!1,m=!1,f={loaded:function(){var e=h?"ss.onProgressEnd":"ss.onStartEnd";m&&h?m&&u(d.url):p.one(e,function(){u(d.url),r||l(d.url)}),n&&t.history.pushState({id:g},b[d.url].title,d.url),m&&!r&&l(d.url)},fetching:function(){h||(h=!0,p.one("ss.onStartEnd",function(){s.loadingClass&&i.addClass(s.loadingClass),s.onProgress.render(p),t.setTimeout(function(){p.trigger("ss.onProgressEnd"),m=!0},s.onProgress.duration)})),t.setTimeout(function(){b.hasOwnProperty(d.url)&&f[b[d.url].status]()},10)},error:function(){s.debug&&o?o.log("There was an error loading: "+d.url):t.location=d.url}};b.hasOwnProperty(d.url)||c(d),s.onStart.render(p,d.url),t.setTimeout(function(){s.scroll&&i.scrollTop(0),p.trigger("ss.onStartEnd")},s.onStart.duration),f[b[d.url].status]()}var h,p=e(r),m=s.trigger_container,g=p.prop("id"),f=null,v=!1,b={},y=(r=t.location.href,0),_=function(){var e=null===s.repeatDelay,t=parseInt(Date.now())>y;return!(e||t)},$=function(){y=parseInt(Date.now())+parseInt(s.repeatDelay)};return s=e.extend({},e.fn.smoothState.options,s),null===t.history.state&&t.history.replaceState({id:g},n.title,r),a.storePageIn(b,r,n.documentElement.outerHTML,e(n).find("body").attr("class"),g),a.triggerAllAnimationEndEvent(p,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),h=m,s.anchors&&(h.on("click",s.anchors,function(t){var n=e(t.currentTarget);t.metaKey||t.ctrlKey||!a.shouldLoadAnchor(n,s.blacklist,s.hrefRegex)||(t.stopPropagation(),t.preventDefault(),_()||($(),t=a.translate(n.prop("href")),v=!0,f=n.prop("hash"),t=s.alterRequest(t),s.onBefore(n,p),d(t)))}),s.prefetch&&h.on(s.prefetchOn,s.anchors,function(t){var n=e(t.currentTarget);a.shouldLoadAnchor(n,s.blacklist,s.hrefRegex)&&!v&&(t.stopPropagation(),n=a.translate(n.prop("href")),c(n=s.alterRequest(n)))})),{href:r,blacklist:function(e){s.blacklist=e},cache:b,clear:l,load:d,fetch:c,restartCSSAnimations:function(){var e=p.prop("class");p.removeClass(e),a.redraw(p),p.addClass(e)}}},t.onpopstate=function(n){var i;null!==n.state&&(i=t.location.href,n=e("#"+n.state.id).data("smoothState"),Website._transition._init(),Website._transition.start(i),n.href===i||a.isHash(i,n.href)||n.load(i,!1))},e.smoothStateUtility=a,e.fn.smoothState=function(t){return this.each(function(){var n=this.tagName.toLowerCase();this.id&&"body"!==n&&"html"!==n&&!e.data(this,"smoothState")?e.data(this,"smoothState",new r(this,t)):!this.id&&o?o.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==n&&"html"!==n||!o||o.warn("The smoothstate container cannot be the "+this.tagName+" tag")})},e.fn.smoothState.options={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(e){return e},onBefore:function(e,t){},onStart:{duration:0,render:function(e){}},onProgress:{duration:0,render:function(e){}},onReady:{duration:0,render:function(e,t,n,i){e.html(t)}},onAfter:function(e,t){}})}(jQuery,window,document);

class ScrollableItem{constructor(t){var i=this;this.item=t;var e=$(t);this.$item=e,this.target=e,this._triggers={},this.target._attributes={},this.item.is_hidden=!0,this.item.is_fixed="fixed"==this.item.getAttribute("smoothscroll"),this.item.translateYModifier=!1,this.item.is_carousel=!1,this.update_followup=!1,this.item.getAttribute("scroll")&&(this._triggers[this.item.getAttribute("scroll")]=[this.item]),this.item.querySelectorAll("[scroll]").forEach(function(t){t.getAttribute("scroll").split(",").forEach(e=>void 0!==i._triggers[e]?i._triggers[e].push(t):i._triggers[e]=[t])}),this._resize=function(){i.update(),i.render(!1),i.update_followup=setTimeout(function(){i.update(),i.render(!1)},1)},this._resize(),window.removeEventListener("resize",this._resize),window.addEventListener("resize",this._resize)}deconstruct(){window.removeEventListener("resize",this._resize)}update(){this.update_layout()}render(t){if(!this.item.classList.contains("loading")){var i=this.item.offsetHeight,e=this.item.offsetTop-(SmoothScroll._attributes.transition.previous+SmoothScroll._attributes.window.height);if(!this.item.is_fixed){if(!this.item.translateYModifier&&!this.item.toggle_fixed&&!this.item.is_carousel&&(e>1.5*SmoothScroll._attributes.window.height||e+i+SmoothScroll._attributes.window.height<-1.5*SmoothScroll._attributes.window.height)&&(this.item.is_hidden||(this.item.is_hidden=!0,this.item.style.visibility="hidden"),!t))return;this.item.is_hidden&&(this.item.is_hidden=!1,this.item.style.visibility="visible"),.1!==SmoothScroll._attributes.transition.ease||this.item.translateYModifier||(this.item.style.transform=`translate3d(0,${-1*SmoothScroll._attributes.transition.previous}px,0)`)}this.layout()}}update_layout(){for(let[t,i]of Object.entries(this._triggers))for(const i of this._triggers[t])switch(t){case"header":i.height=$("#header").get()[0].offsetHeight;break;case"homepage":i.active=!1,i.top=i.offsetTop+.3*SmoothScroll._attributes.window.height,i.bottom=i.offsetTop+i.offsetHeight+.6*SmoothScroll._attributes.window.height}}layout(){for(let[t,i]of Object.entries(this._triggers))for(const i of this._triggers[t])switch(t){case"header":$("header").toggleClass("dark",SmoothScroll._attributes.transition.previous+i.height>$("#hero").height()),$("#register").length||$("#thank-you").length?$("header").addClass("register"):$("#toggle").length?$("header").addClass("toggle"):$("#privacy").length&&$("header").addClass("toggle");break;case"homepage":SmoothScroll._attributes.transition.baseline>i.top&&SmoothScroll._attributes.transition.baseline<i.bottom?i.active||(i.active=!0,$("body").addClass("grey")):i.active&&(i.active=!1,$("body").removeClass("grey"));break;case"reveal":!$(i).hasClass("reveal")&&SmoothScroll._attributes.transition.baseline-170>$(i).offset().top+($(i).hasClass("reveal-end")?$(i).height():0)+$("#main").scrollTop()&&$(i).addClass("reveal")}}}SmoothScroll={_MathUtils:{map:function(t,i,e,s,o){return(t-i)*(o-s)/(e-i)+s},lerp:function(t,i,e){return(1-e)*t+e*i}},_attributes:{content:{sized:!1},document:{fixed_header:!1,header:document.getElementsByTagName("header")[0],height:!1,last_menu:!1,main:document.getElementById("main"),menu:!1,scroll:!1},header:{display:!1,position:0,scroll:!1,sticky:!1},window:{height:!1,width:!1},animation:{frame:!1,stop:!0,timeout:!1,transition:!0},reveal_queue:0},_items:[],_init:function(t){if(_self=this,this._attributes.transition={previous:!1,current:0,baseline:window.innerHeight,differential:0,ease:.1,lock:!1},this._attributes.document.container=document.getElementById("smoothscroll"),this._resize(!1,!1,!1),this._items=[],document.querySelectorAll("[smoothscroll]").forEach(t=>this._items.push(new ScrollableItem(t))),t)this._easing(),this._attributes.document.scroll=0,this._attributes.document.main.scrollTo({top:0}),setTimeout(function(){window.removeEventListener("resize",_self._binding.resize),window.addEventListener("resize",_self._binding.resize),_self._easing()},100);else{window.removeEventListener("resize",_self._binding.resize),window.addEventListener("resize",_self._binding.resize),this._attributes.document.fixed_header=!1;for(const t of this._items)t.deconstruct()}setTimeout(function(){_self._scroll(!1,!0),_self._resize(!1,!1,!0)},t?0:600)},_binding:{resize:function(){_self._resize(!1,!1,!1)},scroll:function(){_self._scroll(!1,!1)}},_easing:function(){_self._attributes.document.main.removeEventListener("scroll",_self._binding.scroll),this._attributes.transition.ease=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--smoothScroll")),this._attributes.document.main!=window&&.1===this._attributes.transition.ease&&this._attributes.document.main.scrollTo({top:0}),this._attributes.document.main=.1===this._attributes.transition.ease?window:document.getElementById("main"),this._attributes.document.main_body=.1===this._attributes.transition.ease?document.body:document.getElementById("main"),this._attributes.document.main_element=.1===this._attributes.transition.ease?$("html, body"):$("#main"),this._attributes.transition.lock||(_self._attributes.document.main.removeEventListener("scroll",_self._binding.scroll),_self._attributes.document.main.addEventListener("scroll",_self._binding.scroll))},_resize:function(t,i,e){if(t||this._easing(),this._attributes.document.height!=this._attributes.document.container.offsetHeight||e||i){if(this._attributes.document.height=this._attributes.document.container.offsetHeight,this._attributes.window={height:window.innerHeight,width:window.innerWidth},this._attributes.document.main_body.style.height=`${this._attributes.document.height}px`,!i)for(const t of this._items)t._resize();t||this._scroll(!0,!1),e||i||(setTimeout(function(){_self._resize(!0,!1,!1)},500),setTimeout(function(){_self._resize(!0,!1,!1)},1e3),setTimeout(function(){_self._resize(!0,!1,!1)},2e3),setTimeout(function(){_self._resize(!0,!1,!1)},3e3),setTimeout(function(){_self._resize(!0,!1,!1)},4e3),setTimeout(function(){_self._resize(!0,!1,!1)},5e3))}},_scroll:function(t,i,e=!1,s=!0,o=!1){if(t||this._resize(!0,!1,!1),!1!==e&&(this._attributes.document.main.scrollTo(0,e),0==s&&(this._attributes.animation.transition=!1)),!e&&!this._attributes.animation.transition)return s=!1,this._attributes.animation.transition=!0,!1;i||(this._attributes.document.main==window?this._attributes.document.scroll=Math.round(window.pageYOffset||document.documentElement.scrollTop):this._attributes.document.scroll=this._attributes.document.main.scrollTop),(e||o||this._attributes.document.scroll!=this._attributes.transition.current)&&(this._attributes.animation.stop&&(this._attributes.animation.stop=!1,cancelAnimationFrame(this._attributes.animation.frame),s?this._attributes.animation.frame=requestAnimationFrame(()=>this.render(i,!1,s)):this.render(i,!1,s)),s&&(clearTimeout(this._attributes.animation.timeout),this._attributes.animation.timeout=setTimeout(function(){_self._attributes.animation.stop=!0},1100)))},render:function(t,i,e){if(this._attributes.animation.stop||this._attributes.transition.lock&&e)cancelAnimationFrame(this._attributes.animation.frame);else{if(e||(_self._attributes.animation.stop=!0,cancelAnimationFrame(this._attributes.animation.frame)),this._attributes.transition.current=this._attributes.document.scroll,this._attributes.transition.direction=this._attributes.transition.current-this._attributes.transition.previous>0||!(this._attributes.transition.current-this._attributes.transition.previous<0)&&this._attributes.transition.direction,e)var s=parseFloat(SmoothScroll._MathUtils.lerp(this._attributes.transition.previous,this._attributes.transition.current,SmoothScroll._attributes.transition.ease).toFixed(2));else s=this._attributes.transition.current;if(this._attributes.transition.previous!==s||t){this._attributes.transition.previous=s,this._attributes.transition.baseline=this._attributes.transition.previous+this._attributes.window.height,this._attributes.transition.center=this._attributes.transition.previous+this._attributes.window.height/2,this._attributes.document.menu=!1;for(const t of this._items)t.render(!i);e&&(this._attributes.animation.frame=requestAnimationFrame(()=>this.render(t,!0,e)))}else this._attributes.animation.stop=!0}},lock:function(){this._attributes.transition.lock=!0,window.removeEventListener("resize",_self._binding.resize),_self._attributes.document.main.removeEventListener("scroll",_self._binding.scroll),_self._attributes.document.main_body.classList.add("lock")},unlock:function(){this._attributes.transition.lock=!1,window.addEventListener("resize",_self._binding.resize),_self._attributes.document.main.addEventListener("scroll",_self._binding.scroll),_self._attributes.document.main_body.classList.remove("lock")},reset:function(){this._attributes.document.main.scrollTo({top:0}),this._attributes.transition.lock=!1,this._attributes.document.menu=!1,this._attributes.animation.stop=!0,cancelAnimationFrame(this._attributes.animation.frame);for(const t of this._items)t.deconstruct();this._init(!1)},unload:function(){SmoothScroll.lock(),this._attributes.document.main.scrollTo({top:0});for(const t of this._items)t.deconstruct();this._items=[]}};